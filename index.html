<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chess News Search</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
 
    <style>
    :root{
      --bg:#050b14; --glass:rgba(255,255,255,0.03);
      --cyan:#00e5ff; --pink:#ff6bb5; --muted:#9aa4b2; --card:rgba(255,255,255,0.02);
      --radius:12px; --shadow:0 20px 50px rgba(0,0,0,0.6);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{font-family:Inter,system-ui,Segoe UI,Roboto; margin:0; background:linear-gradient(180deg,var(--bg),#071322); color:#e7f7ff; -webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}

    header{position:fixed;inset:16px 16px auto 16px;z-index:50}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(6px);max-width:1280px;margin:0 auto}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:36px;height:36px;border-radius:8px;display:grid;place-items:center;background:linear-gradient(135deg,var(--cyan),var(--pink));color:#00131a;font-weight:900}
    .links{display:flex;gap:10px;align-items:center}
    .links a{padding:8px 10px;border-radius:8px;color:var(--muted);font-weight:700;font-size:13px}
    .links a:hover{color:var(--cyan)}
    .install{background:linear-gradient(90deg,var(--cyan),#7be3ff);color:#021828;padding:8px 12px;border-radius:10px;font-weight:800;border:none}

    main{position:relative;z-index:10}
    .hero{min-height:82vh;display:grid;grid-template-columns:1fr 520px;gap:36px;align-items:center;max-width:1280px;margin:0 auto;padding:120px 22px 60px}
    @media (max-width:980px){.hero{grid-template-columns:1fr;padding:140px 18px 60px}}
    .eyebrow{display:inline-block;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,rgba(0,229,255,0.06),rgba(255,107,181,0.06));color:var(--cyan);font-weight:800;margin-bottom:12px}
    h1{font-size:clamp(32px,6vw,64px);margin:0 0 12px;line-height:0.98}
    p.lead{color:var(--muted);margin:0 0 18px;max-width:54ch}
    .actions{display:flex;gap:12px}
    .btn{padding:12px 16px;border-radius:10px;font-weight:800;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--cyan),#7be3ff);color:#041726}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:#dff6ff}

    /* mockup & tiles */
    .mockup{max-width:520px;margin:0 auto}
    .tiling{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:18px;border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow);overflow:hidden}
    .tiling-header{display:flex;align-items:center;gap:10px;margin-bottom:12px}
    .dots{display:flex;gap:8px}
    .dot{width:12px;height:12px;border-radius:999px;background:rgba(255,255,255,0.06)}
    .grid-tiles{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:120px;gap:10px}
    .tile{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border-radius:10px;padding:12px;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.02);transition:transform .22s cubic-bezier(.2,.9,.2,1),box-shadow .22s}
    .tile:hover{transform:translateY(-8px);box-shadow:0 20px 50px rgba(0,229,255,0.06)}
    .tile .title{font-weight:800;color:#e9fbff}

    /* features & cards */
    .features{max-width:1280px;margin:0 auto;padding:18px 22px 80px;display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .card{background:var(--card);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);position:relative;overflow:hidden;transition:transform .25s,box-shadow .25s}
    .card:hover{transform:translateY(-8px);box-shadow:0 30px 60px rgba(0,160,228,0.06)}
    .card .logo-mark{position:absolute;right:12px;bottom:12px;width:88px;opacity:.12;transition:opacity .25s,transform .25s}
    .card:hover .logo-mark{opacity:0.95;transform:scale(1.05)}

    .news{max-width:1000px;margin:0 auto;padding:36px 22px}
    .news-item{background:var(--card);padding:16px;border-radius:10px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.03);transition:transform .2s}

    footer{padding:36px 22px;text-align:center;color:var(--muted)}

    /* floating preview window */
    .preview-window{position:fixed;pointer-events:none;z-index:9999;width:320px;max-width:40vw;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));border-radius:12px;border:1px solid rgba(255,255,255,0.06);box-shadow:0 30px 80px rgba(0,0,0,0.6);opacity:0;transform:translate3d(0,10px,0) scale(0.98);transition:opacity .22s cubic-bezier(.2,.9,.2,1),transform .22s cubic-bezier(.2,.9,.2,1);overflow:hidden}
    .preview-window.show{opacity:1;transform:translate3d(0,0,0) scale(1)}
    .preview-title{display:flex;align-items:center;gap:10px;padding:10px 12px;border-bottom:1px solid rgba(255,255,255,0.03)}
    .preview-dots{display:flex;gap:8px}
    .preview-dots span{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,0.06)}
    .preview-body{display:flex;gap:12px;padding:14px}
    .preview-body .logo-wrap{flex:0 0 120px;display:flex;align-items:center;justify-content:center}
    .preview-body .meta{flex:1}
    .preview-body svg{width:88px;height:88px}

    @media (prefers-reduced-motion: reduce){
      *{transition:none!important}
      .preview-window{display:none}
    }
  </style>
</head>
  
<div id="hyprlish-btn">üåê</div>

<div id="hyprlish-panel">
  <span style="font-size:14px;">Translate this page</span>
  <select id="hyprlish-lang"></select>
  <button id="hyprlish-go">Translate</button>
</div>

<style>
#hyprlish-btn {
  position: fixed; top:14px; left:14px; width:40px; height:40px;
  background:#111; border-radius:50%; border:1px solid #333;
  color:white; display:flex; justify-content:center; align-items:center;
  cursor:pointer; z-index:999999; font-size:18px;
  transition:.25s;
}
#hyprlish-btn:hover { background:#3f8cff; border-color:#3f8cff; }

#hyprlish-panel {
  position: fixed; top:62px; left:14px; background:#111;
  border:1px solid #333; border-radius:10px;
  padding:10px; display:none; flex-direction:column; gap:8px;
  z-index:999999; font-family:system-ui; color:white;
}
#hyprlish-panel select, #hyprlish-panel button {
  background:#1c1c1e; border:1px solid #333;
  color:white; padding:6px 10px; border-radius:6px;
}
#hyprlish-panel button:hover { background:#3f8cff; border-color:#3f8cff; cursor:pointer; }
</style>

<script>
const CORS = "https://cors.isomorphic-git.org/";
const API = "https://libretranslate.de"; // You can change to your own LibreTranslate instance

const btn = document.getElementById("hyprlish-btn");
const panel = document.getElementById("hyprlish-panel");
const langSelect = document.getElementById("hyprlish-lang");
const goBtn = document.getElementById("hyprlish-go");

btn.onclick = () => panel.style.display = (panel.style.display === "flex" ? "none" : "flex");

// ‚úÖ Load real languages (no dummy)
async function loadLanguages() {
  const res = await fetch(CORS + API + "/languages");
  const langs = await res.json();
  langs.forEach(l => {
    const o = document.createElement("option");
    o.value = l.code;
    o.textContent = l.name + " ‚Äî " + l.code;
    langSelect.appendChild(o);
  });
}
loadLanguages();

// ‚úÖ Translate in batches to avoid overload
async function translateTexts(texts, target) {
  const res = await fetch(CORS + API + "/translate", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({ q:texts, source:"auto", target:target, format:"text" })
  });
  return await res.json();
}

async function translatePage(target) {
  const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT);
  let nodes = [];
  let node;
  while(node = walker.nextNode()) {
    const t = node.nodeValue.trim();
    if(t.length > 3 && !node.parentNode.closest("script,style")) nodes.push(node);
  }

  const batchSize = 25;
  for(let i=0;i<nodes.length;i+=batchSize){
    const slice = nodes.slice(i,i+batchSize);
    const texts = slice.map(n=>n.nodeValue);
    try{
      const results = await translateTexts(texts, target);
      results.forEach((r, idx)=>slice[idx].nodeValue = r.translatedText);
    }catch(e){}
  }
}

goBtn.onclick = () => translatePage(langSelect.value);
</script>


<body>
  <canvas id="bgCanvas" style="position:fixed;inset:0;z-index:0;pointer-events:none"></canvas>

  <header>
    <div class="nav">
      <div class="brand">
        <div class="logo">HSR</div>
        <div style="line-height:1">
          <div style="font-weight:800">HSR projects</div>
          <div style="font-size:12px;color:var(--muted)">HSR-projects</div>
        </div>
      </div>

      <nav class="links"></nav>

      <div style="display:flex;gap:8px;align-items:center">

      </div>
    </div>
  </header>

  <div class="container">
    <h1>Chess News Search</h1>
    <input type="text" id="searchBox" placeholder="Search chess news..." />
    <button id="searchBtn">Search</button>
    <div id="results"></div>
  </div>

  <script>
    const searchBtn = document.getElementById("searchBtn");
    const searchBox = document.getElementById("searchBox");
    const resultsDiv = document.getElementById("results");

    async function searchNews() {
      const query = searchBox.value.trim();
      if (!query) return;

      resultsDiv.innerHTML = "<p>Searching...</p>";

      try {
        const res = await fetch(`/search?q=${encodeURIComponent(query)}`);
        const data = await res.json();
        if (data.results.length === 0) {
          resultsDiv.innerHTML = "<p>No results found.</p>";
          return;
        }

        resultsDiv.innerHTML = data.results
          .map(r => `
            <div class="news-item">
              <h3>${r.title}</h3>
              <p><strong>Source:HSR-server-24_chess</strong> </p>
              <p>${r.snippet || ""}</p>
              <a href="${r.link}" target="_blank">Read more</a>
            </div>
          `)
          .join("");
      } catch (err) {
        resultsDiv.innerHTML = "<p>Error fetching results.</p>";
        console.error(err);
      }
    }

    searchBtn.addEventListener("click", searchNews);
    searchBox.addEventListener("keypress", e => {
      if (e.key === "Enter") searchNews();
    });
  </script>
<footer class="powered-by">
  <div class="tech-stack">
    <span>Powered by</span>
    <a href="https://www.linux.org" target="_blank" rel="noopener noreferrer">
      <img src="images/linux.webp" alt="Linux" title="Linux">
    </a>
    <a href="https://httpd.apache.org" target="_blank" rel="noopener noreferrer">
      <img src="images/apache.gif" alt="Apache" title="Apache">
    </a>
 
  </div>
  <p>&copy; 2025 HSR-news Chess Server | Free chess server licensed under BSD-3 Clause </p>
</footer>


</body>
</html>
